@startuml
!include <C4/C4>
!include <C4/C4_Context>

title C4 - Контекстная диаграмма платформы онлайн-консультаций

Person(client, "Клиент", "Получает консультации, выбирает экспертов")
Person(expert, "Эксперт", "Предоставляет услуги, управляет расписанием")
Person(admin, "Администратор", "Управляет пользователями, модерирует контент")

System(platform, "Платформа онлайн-консультаций", "Обеспечивает проведение онлайн-консультаций между клиентами и экспертами")

System_Ext(payment_ext, "Платёжная система", "Stripe/CloudPayments")
System_Ext(email_ext, "Email сервис", "SendGrid/Mailgun")
System_Ext(sms_ext, "SMS сервис", "Twilio")
System_Ext(video_ext, "Видео инфраструктура", "WebRTC/TURN серверы")

Rel(client, platform, "Получает консультации через", "HTTPS")
Rel(expert, platform, "Предоставляет услуги через", "HTTPS")
Rel(admin, platform, "Управляет платформой через", "HTTPS")

Rel(platform, payment_ext, "Обрабатывает платежи через", "REST API")
Rel(platform, email_ext, "Отправляет email через", "REST API")
Rel(platform, sms_ext, "Отправляет SMS через", "REST API")
Rel(platform, video_ext, "Использует для видеозвонков", "WebRTC")

@enduml