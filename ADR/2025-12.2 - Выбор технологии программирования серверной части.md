
**ADR: 2025-12.2 - Выбор технологии программирования серверной части**

**Дата:** 2 декабря 2025 г.

**Статус:** 

**Контекст:** 

При разработке серверной части нашей платформы платформы для онлайн-консультаций мы стоим перед выбором технологии программирования. Этот выбор будет влиять на скорость разработки, стабильность, производительность, и возможность привлечения квалифицированных разработчиков.

**Рассмотренные варианты:**

1. **Node.js + NestJS:** JavaScript/TypeScript, асинхронная модель, богатая экосистема.
2. **Python + FastAPI/Django:** Быстрая разработка, обширные библиотеки для ML/аналитики (потенциально для анализа качества консультаций).
3. **Go:** Высокая производительность, низкое потребление памяти, простота конкурентности.
4. **Python:** Популярный язык с широкой библиотекой и быстрой разработкой, но может иметь проблемы с производительностью на серверной стороне.

**Решение:**

Выбран Node.js + NestJS + TypeScript.

**Обоснование:**

- **Единый язык стек:** TypeScript на бэкенде и фронтенде (Next.js) снижает когнитивную нагрузку на команду, позволяет переиспользовать код.
- **NestJS:** Архитектурный фреймворк, который нативно поддерживает модульность (соответствует ADR-001), внедрение зависимостей, имеет встроенные инструменты для GraphQL, WebSockets, микросервисов.
- **Современный синтаксис:** Идеально подходит для I/O-интенсивных задач (обработка API-запросов, работа с очередями, WebSockets для чата).
- **Экосистема и скорость:** Огромное количество npm-пакетов для интеграций (платежные системы, облачные SDK, уведомления).
- **Рынок труда:** Широкая доступность разработчиков с опытом в Node.js/TypeScript.

**Недостатки решения:**

- **Производительность в CPU-задачах:** Уступает Go или Rust в обработке видео или сложной аналитики.
- **Ошибки в процессе выполнения":** Даже с TypeScript возможны ошибки, которые обнаруживаются только при запуске программы, а не при компиляции.
- **Сложность поддержки архитектуры:** Требует строгой дисциплины, чтобы сохранить чистоту архитектуры в крупном проекте и избежать излишней связности с фреймворком.

**Последствия:**

- Вся серверная логика будет написана на TypeScript.
- Для CPU-интенсивных задач в будущем, возможно, потребуется вынос в отдельные сервисы на Go..
- Надо уделять внимание поиску и применению оптимальных практик и инструментов, специфичных для Node.js и NestJS.
