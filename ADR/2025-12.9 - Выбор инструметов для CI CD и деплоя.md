
**ADR: 2025-12.9 - Выбор инструментов для CI/CD и деплоя**

**Дата:** 2 декабря 2025 г.

**Статус:** Принято

**Контекст:**

Нужно выбрать, как наш код будет автоматически собираться, тестироваться и попадать на рабочие серверы. Это важно для быстрых и безопасных обновлений.

**Рассмотренные варианты:**

**GitHub Actions + Docker + K8s**: Сборка в GitHub, упаковка в Docker, деплой в Kubernetes.
**GitLab CI/CD + Docker Swarm**: Полный цикл в GitLab с более простой оркестрацией.
**Jenkins + Ansible + Docker**: Классический Jenkins с Ansible для настройки серверов.
**CircleCI + Heroku**: Облачный CI/CD с простым деплоем в Heroku.

**Решение:**

Выбран стек GitHub Actions + Docker + Kubernetes (K8s).

**Обоснование:**

- **Много готовых решений:** Для Docker и Kubernetes есть тысячи инструкций и примеров.
- **Легко масштабировать:** Kubernetes сам управляет нагрузкой и восстановлением после сбоев.
- **Популярность:** Эти технологии используют большинство компаний, легко найти специалистов.
  
**Недостатки**

- **Kubernetes сложен**: Ошибка в настройке может уронить всё приложение.
- **Дорогая инфраструктура**: Нужны мощные серверы для работы K8s кластера.
- **Медленные сборки**:  Создание Docker-образов и деплой занимают 10-15 минут.
- **Привязка к GitHub**: Сменить хостинг кода будет очень сложно.

**Последствия:**

- Создадим Dockerfile для бэкенда и фронтенда.
- Настроим Kubernetes манифесты для развёртывания.
- Будем использовать GitHub Actions для запуска тестов и сборки образов.
- Сделаем blue-green деплой для обновлений без простоя.


